import{s as r,a as c,h as s,r as l}from"./assets/render-functions-5e74lLoP.js";import{a as y}from"./assets/vendor-Draw1i9A.js";const d="46168146-32b0147d59d6daaf7b97d8253",u="https://pixabay.com/api/";async function h(e,t=1){try{return(await y.get(`${u}`,{params:{key:d,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:15}})).data}catch(i){throw i}}const m=document.querySelector(".search-form"),g=document.querySelector(".search-input"),p=document.querySelector(".gallery"),n=document.querySelector(".load-more");let o="",a=1;m.addEventListener("submit",async e=>{if(e.preventDefault(),o=g.value.trim(),o===""){r("Please enter a search query");return}a=1,p.innerHTML="",n.style.display="none",c();try{const t=await h(o,a);s(),t.hits.length===0?r("Sorry, there are no images matching your search query. Please try again!"):(l(t.hits),n.style.display="block")}catch{s(),r("Failed to fetch images. Please try again later.")}});n.addEventListener("click",async()=>{a+=1,c();try{const e=await h(o,a);s(),l(e.hits),a*15>=e.totalHits&&(n.style.display="none",r("We're sorry, but you've reached the end of search results."));const{height:t}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:t*2,behavior:"smooth"})}catch{s(),r("Failed to fetch images. Please try again later.")}});
//# sourceMappingURL=index.js.map
